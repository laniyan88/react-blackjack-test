{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\larry\\\\Desktop\\\\BaCkEnD Projects\\\\mohammed-senior-take-home-test\\\\src\\\\context\\\\PrefsContext.tsx\";\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { LS_KEYS } from \"../utils/constant\";\nimport { safeStorage } from \"../utils/safeStorage\";\nconst PrefsContext = createContext(null);\nconst BACKS = [\"back.png\", \"back-black.png\", \"back-blue.png\", \"back-fuchsia.png\", \"back-gray.png\", \"back-green.png\", \"back-lime.png\", \"back-maroon.png\", \"back-navy.png\", \"back-olive.png\", \"back-purple.png\", \"back-red.png\", \"back-silver.png\", \"back-teal.png\", \"back-yellow.png\", \"back-aqua.png\", \"back-0062ff.png\"];\nexport const PrefsProvider = ({\n  children\n}) => {\n  const [cardBack, setCardBack] = useState(() => {\n    const saved = safeStorage.getItem(LS_KEYS.cardBack);\n    return saved && BACKS.includes(saved) ? saved : \"back-blue.png\";\n  });\n  useEffect(() => {\n    try {\n      safeStorage.setItem(LS_KEYS.cardBack, cardBack);\n    } catch {}\n  }, [cardBack]);\n  const cardBackUrl = useMemo(() => `${process.env.PUBLIC_URL}/SVG-cards/png/1x/${cardBack}`, [cardBack]);\n  const value = useMemo(() => ({\n    cardBack,\n    setCardBack,\n    cardBackUrl,\n    availableBacks: BACKS\n  }), [cardBack, cardBackUrl]);\n  return /*#__PURE__*/React.createElement(PrefsContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }\n  }, children);\n};\nexport const usePrefs = () => {\n  const ctx = useContext(PrefsContext);\n  if (!ctx) throw new Error(\"usePrefs must be used within PrefsProvider\");\n  return ctx;\n};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useMemo","useState","LS_KEYS","safeStorage","PrefsContext","BACKS","PrefsProvider","children","cardBack","setCardBack","saved","getItem","includes","setItem","cardBackUrl","process","env","PUBLIC_URL","value","availableBacks","createElement","Provider","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","usePrefs","ctx","Error"],"sources":["C:/Users/larry/Desktop/BaCkEnD Projects/mohammed-senior-take-home-test/src/context/PrefsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport { LS_KEYS } from \"../utils/constant\";\nimport { safeStorage } from \"../utils/safeStorage\";\n\ntype Prefs = {\n  cardBack: string;\n  setCardBack: (name: string) => void;\n  cardBackUrl: string;\n  availableBacks: string[];\n};\n\nconst PrefsContext = createContext<Prefs | null>(null);\n\nconst BACKS = [\n  \"back.png\",\n  \"back-black.png\",\n  \"back-blue.png\",\n  \"back-fuchsia.png\",\n  \"back-gray.png\",\n  \"back-green.png\",\n  \"back-lime.png\",\n  \"back-maroon.png\",\n  \"back-navy.png\",\n  \"back-olive.png\",\n  \"back-purple.png\",\n  \"back-red.png\",\n  \"back-silver.png\",\n  \"back-teal.png\",\n  \"back-yellow.png\",\n  \"back-aqua.png\",\n  \"back-0062ff.png\",\n];\n\nexport const PrefsProvider: React.FC<React.PropsWithChildren<{}>> = ({ children }) => {\n  const [cardBack, setCardBack] = useState<string>(() => {\n    const saved = safeStorage.getItem(LS_KEYS.cardBack);\n    return saved && BACKS.includes(saved) ? saved : \"back-blue.png\";\n  });\n\n  useEffect(() => {\n    try {\n      safeStorage.setItem(LS_KEYS.cardBack, cardBack);\n    } catch {}\n  }, [cardBack]);\n\n  const cardBackUrl = useMemo(\n    () => `${process.env.PUBLIC_URL}/SVG-cards/png/1x/${cardBack}`,\n    [cardBack],\n  );\n\n  const value: Prefs = useMemo(\n    () => ({ cardBack, setCardBack, cardBackUrl, availableBacks: BACKS }),\n    [cardBack, cardBackUrl],\n  );\n\n  return <PrefsContext.Provider value={value}>{children}</PrefsContext.Provider>;\n};\n\nexport const usePrefs = (): Prefs => {\n  const ctx = useContext(PrefsContext);\n  if (!ctx) throw new Error(\"usePrefs must be used within PrefsProvider\");\n  return ctx;\n};\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AACtF,SAASC,OAAO,QAAQ,mBAAmB;AAC3C,SAASC,WAAW,QAAQ,sBAAsB;AASlD,MAAMC,YAAY,GAAGP,aAAa,CAAe,IAAI,CAAC;AAEtD,MAAMQ,KAAK,GAAG,CACZ,UAAU,EACV,gBAAgB,EAChB,eAAe,EACf,kBAAkB,EAClB,eAAe,EACf,gBAAgB,EAChB,eAAe,EACf,iBAAiB,EACjB,eAAe,EACf,gBAAgB,EAChB,iBAAiB,EACjB,cAAc,EACd,iBAAiB,EACjB,eAAe,EACf,iBAAiB,EACjB,eAAe,EACf,iBAAiB,CAClB;AAED,OAAO,MAAMC,aAAoD,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EACpF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAS,MAAM;IACrD,MAAMS,KAAK,GAAGP,WAAW,CAACQ,OAAO,CAACT,OAAO,CAACM,QAAQ,CAAC;IACnD,OAAOE,KAAK,IAAIL,KAAK,CAACO,QAAQ,CAACF,KAAK,CAAC,GAAGA,KAAK,GAAG,eAAe;EACjE,CAAC,CAAC;EAEFX,SAAS,CAAC,MAAM;IACd,IAAI;MACFI,WAAW,CAACU,OAAO,CAACX,OAAO,CAACM,QAAQ,EAAEA,QAAQ,CAAC;IACjD,CAAC,CAAC,MAAM,CAAC;EACX,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,MAAMM,WAAW,GAAGd,OAAO,CACzB,MAAM,GAAGe,OAAO,CAACC,GAAG,CAACC,UAAU,qBAAqBT,QAAQ,EAAE,EAC9D,CAACA,QAAQ,CACX,CAAC;EAED,MAAMU,KAAY,GAAGlB,OAAO,CAC1B,OAAO;IAAEQ,QAAQ;IAAEC,WAAW;IAAEK,WAAW;IAAEK,cAAc,EAAEd;EAAM,CAAC,CAAC,EACrE,CAACG,QAAQ,EAAEM,WAAW,CACxB,CAAC;EAED,oBAAOlB,KAAA,CAAAwB,aAAA,CAAChB,YAAY,CAACiB,QAAQ;IAACH,KAAK,EAAEA,KAAM;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEpB,QAAgC,CAAC;AAChF,CAAC;AAED,OAAO,MAAMqB,QAAQ,GAAGA,CAAA,KAAa;EACnC,MAAMC,GAAG,GAAG/B,UAAU,CAACM,YAAY,CAAC;EACpC,IAAI,CAACyB,GAAG,EAAE,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;EACvE,OAAOD,GAAG;AACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}